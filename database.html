<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en" data-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>src/database</title>

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="nimdoc.out.css?v=2.2.4">

<!-- JS -->
<script type="text/javascript" src="dochack.js?v=2.2.4"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">src/database</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" oninput="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#Connection" title="Connection = object
  handle*: duckdb_connection">Connection</a></li>
<li><a class="reference" href="#Database" title="Database = object of RootObj
  handle*: duckdb_database">Database</a></li>
<li><a class="reference" href="#QueryProgress" title="QueryProgress = object of duckdb_query_progress_type">QueryProgress</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">=copy
  <li><a class="reference" href="#%3Dcopy%2CConnection%2CConnection" title="`=copy`(dest: var Connection; source: Connection)">`=copy`(dest: var Connection; source: Connection)</a></li>
<li><a class="reference" href="#%3Dcopy%2CDatabase%2CDatabase" title="`=copy`(dest: var Database; source: Database)">`=copy`(dest: var Database; source: Database)</a></li>

</ul>
<ul class="simple nested-toc-section">=destroy
  <li><a class="reference" href="#%3Ddestroy%2CConnection" title="`=destroy`(con: Connection)">`=destroy`(con: Connection)</a></li>
<li><a class="reference" href="#%3Ddestroy%2CDatabase" title="`=destroy`(db: Database)">`=destroy`(db: Database)</a></li>

</ul>
<ul class="simple nested-toc-section">=sink
  <li><a class="reference" href="#%3Dsink%2CConnection%2CConnection" title="`=sink`(dest: var Connection; source: Connection)">`=sink`(dest: var Connection; source: Connection)</a></li>
<li><a class="reference" href="#%3Dsink%2CDatabase%2CDatabase" title="`=sink`(dest: var Database; source: Database)">`=sink`(dest: var Database; source: Database)</a></li>

</ul>
<ul class="simple nested-toc-section">connect
  <li><a class="reference" href="#connect%2CDatabase" title="connect(db: Database): Connection">connect(db: Database): Connection</a></li>

</ul>
<ul class="simple nested-toc-section">interrupt
  <li><a class="reference" href="#interrupt%2CConnection" title="interrupt(con: Connection)">interrupt(con: Connection)</a></li>

</ul>
<ul class="simple nested-toc-section">newDatabase
  <li><a class="reference" href="#newDatabase" title="newDatabase(): Database">newDatabase(): Database</a></li>
<li><a class="reference" href="#newDatabase%2CConfig" title="newDatabase(config: Config): Database">newDatabase(config: Config): Database</a></li>
<li><a class="reference" href="#newDatabase%2Cstring" title="newDatabase(path: string): Database">newDatabase(path: string): Database</a></li>
<li><a class="reference" href="#newDatabase%2Cstring%2CConfig" title="newDatabase(path: string; config: Config): Database">newDatabase(path: string; config: Config): Database</a></li>

</ul>
<ul class="simple nested-toc-section">queryProgress
  <li><a class="reference" href="#queryProgress%2CConnection" title="queryProgress(con: Connection): QueryProgress">queryProgress(con: Connection): QueryProgress</a></li>

</ul>

    </ul>
  </details>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    
    <div id="tocRoot"></div>
    
    <p class="module-desc">To use NimDrake, you must first initialize a Database obj using newDatabase. newDatabase takes as parameter the database file to read and write from, or it can be used to create an in-memory database if no parameters is provided. Note that for an in-memory database no data is persisted to disk (i.e., all data is lost when you exit the process). With the Database obj, you can create one or many Connection using db.connect(). While individual connections are thread-safe, they will be locked during querying. It is therefore recommended that each thread uses its own connection to allow for the best parallel performance.</p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="api.html">api</a>, <a class="reference external" href="config.html">config</a>, <a class="reference external" href="exceptions.html">exceptions</a>
  </dl>
</div>
<div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="Connection">
  <dt><pre><a href="database.html#Connection"><span class="Identifier">Connection</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">handle</span><span class="Operator">*</span><span class="Other">:</span> <a href="api.html#duckdb_connection"><span class="Identifier">duckdb_connection</span></a></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="Database">
  <dt><pre><a href="database.html#Database"><span class="Identifier">Database</span></a> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">RootObj</span>
  <span class="Identifier">handle</span><span class="Operator">*</span><span class="Other">:</span> <a href="api.html#duckdb_database"><span class="Identifier">duckdb_database</span></a></pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="QueryProgress">
  <dt><pre><a href="database.html#QueryProgress"><span class="Identifier">QueryProgress</span></a> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <a href="api.html#duckdb_query_progress_type"><span class="Identifier">duckdb_query_progress_type</span></a></pre></dt>
  <dd>
    
    
    
  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="=copy-procs-all">
  <div id="=copy,Connection,Connection">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3Dcopy%2CConnection%2CConnection"><span class="Identifier">`=copy`</span></a><span class="Other">(</span><span class="Identifier">dest</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="database.html#Connection"><span class="Identifier">Connection</span></a><span class="Other">;</span> <span class="Identifier">source</span><span class="Other">:</span> <a href="database.html#Connection"><span class="Identifier">Connection</span></a><span class="Other">)</span> {.
    <span class="Identifier">error</span><span class="Other">:</span> <span class="StringLit">&quot;Connection copy is not supported&quot;</span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="=copy,Database,Database">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3Dcopy%2CDatabase%2CDatabase"><span class="Identifier">`=copy`</span></a><span class="Other">(</span><span class="Identifier">dest</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="database.html#Database"><span class="Identifier">Database</span></a><span class="Other">;</span> <span class="Identifier">source</span><span class="Other">:</span> <a href="database.html#Database"><span class="Identifier">Database</span></a><span class="Other">)</span> {.
    <span class="Identifier">error</span><span class="Other">:</span> <span class="StringLit">&quot;Database copy is not supported&quot;</span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="=destroy-procs-all">
  <div id="=destroy,Connection">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3Ddestroy%2CConnection"><span class="Identifier">`=destroy`</span></a><span class="Other">(</span><span class="Identifier">con</span><span class="Other">:</span> <a href="database.html#Connection"><span class="Identifier">Connection</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="=destroy,Database">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3Ddestroy%2CDatabase"><span class="Identifier">`=destroy`</span></a><span class="Other">(</span><span class="Identifier">db</span><span class="Other">:</span> <a href="database.html#Database"><span class="Identifier">Database</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="=sink-procs-all">
  <div id="=sink,Connection,Connection">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3Dsink%2CConnection%2CConnection"><span class="Identifier">`=sink`</span></a><span class="Other">(</span><span class="Identifier">dest</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="database.html#Connection"><span class="Identifier">Connection</span></a><span class="Other">;</span> <span class="Identifier">source</span><span class="Other">:</span> <a href="database.html#Connection"><span class="Identifier">Connection</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>
<div id="=sink,Database,Database">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3Dsink%2CDatabase%2CDatabase"><span class="Identifier">`=sink`</span></a><span class="Other">(</span><span class="Identifier">dest</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="database.html#Database"><span class="Identifier">Database</span></a><span class="Other">;</span> <span class="Identifier">source</span><span class="Other">:</span> <a href="database.html#Database"><span class="Identifier">Database</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="connect-procs-all">
  <div id="connect,Database">
  <dt><pre><span class="Keyword">proc</span> <a href="#connect%2CDatabase"><span class="Identifier">connect</span></a><span class="Other">(</span><span class="Identifier">db</span><span class="Other">:</span> <a href="database.html#Database"><span class="Identifier">Database</span></a><span class="Other">)</span><span class="Other">:</span> <a href="database.html#Connection"><span class="Identifier">Connection</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OperationError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create one or many Connections from a single Database. While individual connections are thread-safe, they will be locked during querying
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">nimdrake</span>

<span class="Keyword">let</span> <span class="Identifier">db</span> <span class="Operator">=</span> <span class="Identifier">newDatabase</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">conn</span> <span class="Operator">=</span> <span class="Identifier">db</span><span class="Operator">.</span><span class="Identifier">connect</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">conn2</span> <span class="Operator">=</span> <span class="Identifier">db</span><span class="Operator">.</span><span class="Identifier">connect</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

<span class="Identifier">conn</span><span class="Operator">.</span><span class="Identifier">execute</span><span class="Punctuation">(</span><span class="StringLit">&quot;CREATE TABLE combined(i INTEGER, j VARCHAR);&quot;</span><span class="Punctuation">)</span>
<span class="Identifier">conn</span><span class="Operator">.</span><span class="Identifier">execute</span><span class="Punctuation">(</span>
  <span class="StringLit">&quot;INSERT INTO combined VALUES (6, 'foo'), (5, 'bar'), (?, ?);&quot;</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="StringLit">&quot;7&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;baz&quot;</span><span class="Punctuation">)</span>
<span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">outcome</span> <span class="Operator">=</span> <span class="Identifier">conn2</span><span class="Operator">.</span><span class="Identifier">execute</span><span class="Punctuation">(</span><span class="StringLit">&quot;SELECT * FROM combined&quot;</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">fetchall</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">assert</span> <span class="Identifier">outcome</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Operator">.</span><span class="Identifier">valueInteger</span> <span class="Operator">==</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="DecNumber">6'i32</span><span class="Punctuation">,</span> <span class="DecNumber">5'i32</span><span class="Punctuation">,</span> <span class="DecNumber">7'i32</span><span class="Punctuation">]</span></pre>
    
  </dd>
</div>

</div>
<div id="interrupt-procs-all">
  <div id="interrupt,Connection">
  <dt><pre><span class="Keyword">proc</span> <a href="#interrupt%2CConnection"><span class="Identifier">interrupt</span></a><span class="Other">(</span><span class="Identifier">con</span><span class="Other">:</span> <a href="database.html#Connection"><span class="Identifier">Connection</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="newDatabase-procs-all">
  <div id="newDatabase">
  <dt><pre><span class="Keyword">proc</span> <a href="#newDatabase"><span class="Identifier">newDatabase</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="database.html#Database"><span class="Identifier">Database</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OperationError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create a new in-memory database.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">nimdrake</span>

<span class="Keyword">let</span> <span class="Identifier">db</span> <span class="Operator">=</span> <span class="Identifier">newDatabase</span><span class="Punctuation">(</span><span class="Punctuation">)</span></pre>
    
  </dd>
</div>
<div id="newDatabase,Config">
  <dt><pre><span class="Keyword">proc</span> <a href="#newDatabase%2CConfig"><span class="Identifier">newDatabase</span></a><span class="Other">(</span><span class="Identifier">config</span><span class="Other">:</span> <a href="config.html#Config"><span class="Identifier">Config</span></a><span class="Other">)</span><span class="Other">:</span> <a href="database.html#Database"><span class="Identifier">Database</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OperationError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Create a new in-memory database preconfigured.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Identifier">tables</span>
<span class="Keyword">import</span> <span class="Identifier">nimdrake</span>

<span class="Keyword">let</span> <span class="Identifier">conf</span> <span class="Operator">=</span> <span class="Identifier">newConfig</span><span class="Punctuation">(</span><span class="Punctuation">{</span><span class="StringLit">&quot;threads&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;3&quot;</span><span class="Punctuation">}</span><span class="Operator">.</span><span class="Identifier">toTable</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">db</span> <span class="Operator">=</span> <span class="Identifier">newDatabase</span><span class="Punctuation">(</span><span class="Identifier">conf</span><span class="Punctuation">)</span></pre>
    
  </dd>
</div>
<div id="newDatabase,string">
  <dt><pre><span class="Keyword">proc</span> <a href="#newDatabase%2Cstring"><span class="Identifier">newDatabase</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="database.html#Database"><span class="Identifier">Database</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OperationError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Creates a new database or opens an existing database file stored at the given path.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">nimdrake</span>

<span class="Keyword">let</span> <span class="Identifier">db</span> <span class="Operator">=</span> <span class="Identifier">newDatabase</span><span class="Punctuation">(</span><span class="StringLit">&quot;duckdb.db&quot;</span><span class="Punctuation">)</span></pre>
    
  </dd>
</div>
<div id="newDatabase,string,Config">
  <dt><pre><span class="Keyword">proc</span> <a href="#newDatabase%2Cstring%2CConfig"><span class="Identifier">newDatabase</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">config</span><span class="Other">:</span> <a href="config.html#Config"><span class="Identifier">Config</span></a><span class="Other">)</span><span class="Other">:</span> <a href="database.html#Database"><span class="Identifier">Database</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OperationError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Creates a new preconfigured database or opens an existing database file stored at the given path.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Identifier">tables</span>
<span class="Keyword">import</span> <span class="Identifier">nimdrake</span>

<span class="Keyword">let</span>
  <span class="Identifier">conf</span> <span class="Operator">=</span> <span class="Identifier">newConfig</span><span class="Punctuation">(</span><span class="Punctuation">{</span><span class="StringLit">&quot;threads&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;3&quot;</span><span class="Punctuation">}</span><span class="Operator">.</span><span class="Identifier">toTable</span><span class="Punctuation">)</span>
  <span class="Identifier">db</span> <span class="Operator">=</span> <span class="Identifier">newDatabase</span><span class="Punctuation">(</span><span class="StringLit">&quot;duckdb.db&quot;</span><span class="Punctuation">,</span> <span class="Identifier">conf</span><span class="Punctuation">)</span>
  <span class="Identifier">conn</span> <span class="Operator">=</span> <span class="Identifier">db</span><span class="Operator">.</span><span class="Identifier">connect</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

<span class="Keyword">let</span> <span class="Identifier">outcome</span> <span class="Operator">=</span> <span class="Identifier">conn</span><span class="Operator">.</span><span class="Identifier">execute</span><span class="Punctuation">(</span><span class="StringLit">&quot;SELECT * FROM range(3);&quot;</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">fetchall</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

<span class="Identifier">assert</span> <span class="Identifier">outcome</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Operator">.</span><span class="Identifier">valueBigInt</span> <span class="Operator">==</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="DecNumber">0'i64</span><span class="Punctuation">,</span> <span class="DecNumber">1'i64</span><span class="Punctuation">,</span> <span class="DecNumber">2'i64</span><span class="Punctuation">]</span></pre>
    
  </dd>
</div>

</div>
<div id="queryProgress-procs-all">
  <div id="queryProgress,Connection">
  <dt><pre><span class="Keyword">proc</span> <a href="#queryProgress%2CConnection"><span class="Identifier">queryProgress</span></a><span class="Other">(</span><span class="Identifier">con</span><span class="Other">:</span> <a href="database.html#Connection"><span class="Identifier">Connection</span></a><span class="Other">)</span><span class="Other">:</span> <a href="database.html#QueryProgress"><span class="Identifier">QueryProgress</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>

  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2025-08-23 10:35:10 UTC</small>
      </div>
    </div>
  </div>
  
</body>
</html>
